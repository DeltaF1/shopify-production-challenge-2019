products
-----------
id|title|price|inventory

carts
-----------
id|cookie

cart_contents
-----------
cart_id|product_id|quantity



---------------------------------
API
---------------------------------

-- Retrieve a single product
GET /product/<id>

return {
	title,
	price,
	inventory
}

-- Retrieve all products
GET /products/?only_in_stock=1

return [
	{
		title,
		price,
		inventory
	},
	...
] for product in products where inventory > 0

-- Create a new empty cart
POST /cart?cookie=XXXX

return {
	id
}

-- Get the contents of a shopping cart
GET /cart/<id>?cookie=XXXX

return {
	contents : [
		{
			title,
			quantity,
			price : quantity * products.price,
		}
	],
	total_price : sum(contents.price)
} if cookie == carts.cookie

-- Put an item into the cart
PATCH /cart/<id>?cookie=XXXX
body = {
	id,
	quantity
}

return {
	success
}

-- Purchase all items in the cart
-- If any of the items are unable to be purchased, the whole cart is rejected

POST /cart/<id>/complete?cookie=XXXX

return {
	success,
	(optional)failed_products : [
		{
			title,
			diff_quantity
		}
	]
}

