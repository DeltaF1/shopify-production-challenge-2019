---------------------------------
API
---------------------------------

-- Retrieve a single product.
GET /product/<id>

return {
	title,
	price,
	inventory
}

-- Retrieve all products.
GET /products/?only_in_stock=<1|0>

return [
	{
		title,
		price,
		inventory
	},
	...
] for product in products where inventory > 0

-- Create a new empty cart.
POST /cart

return {
	id
}

Sets a session cookie if none is present

-- ALL FOLLOWING REQUESTS REQUIRE A MATCHING SESSION COOKIE

-- Get the contents of a shopping cart.
GET /cart/<id>

return {
	contents : [
		{
			title,
			quantity,
			price,
		}
	],
	total_price
}

-- Put an item into the cart, or increase the quantity if that item is already
-- in the cart.
PATCH /cart/<id>
body = {
	id,
	quantity
}

return {
	success
}

-- Put an item into the cart, or set the quantity for that item.
-- Differs from PATCH since it can be used to for instance remove an item
-- from the cart.
--
-- e.x. PUT /cart/<id> {id:xxx, quantity:0}
PUT /cart/<id>
body = {
	id,
	quantity
}

return {
	success
}

-- Purchase all items in the cart.
-- If any of the items are unable to be purchased,
-- the whole cart is rejected

POST /cart/<id>/complete

return {
	success,
	(optional)failed_products : [
		{
			title,
			diff_quantity
		}
	]
}

